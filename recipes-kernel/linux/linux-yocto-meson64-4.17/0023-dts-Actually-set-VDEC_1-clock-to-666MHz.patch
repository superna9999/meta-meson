From 5ea22f2e3bda65cbd19080e870e609462a328cb0 Mon Sep 17 00:00:00 2001
From: Maxime Jourdan <maxi.jourdan@wanadoo.fr>
Date: Thu, 5 Apr 2018 22:13:53 +0200
Subject: [PATCH] dts: Actually set VDEC_1 clock to 666MHz

Thanks narmstrong for the tip.
Should allow to test H.264 decoding at full speed.

Also drop the VDEC_HEVC out of here since it wasn't used by the pwrc anyway,
and the pwrc itself is going away in the future..
---
 arch/arm64/boot/dts/amlogic/meson-gxl.dtsi | 10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

diff --git a/arch/arm64/boot/dts/amlogic/meson-gxl.dtsi b/arch/arm64/boot/dts/amlogic/meson-gxl.dtsi
index 019e2d8..c6b9a04 100644
--- a/arch/arm64/boot/dts/amlogic/meson-gxl.dtsi
+++ b/arch/arm64/boot/dts/amlogic/meson-gxl.dtsi
@@ -814,8 +814,10 @@
 	clocks = <&clkc CLKID_VPU_INTR>, <&clkc CLKID_DOS_PARSER>, <&clkc CLKID_VDEC_1>, <&clkc CLKID_VDEC_HEVC>;
 	clock-names = "vpu_intr", "dos_parser", "vdec_1", "vdec_hevc";
 
-	assigned-clocks = <&clkc CLKID_VDEC_1>,
-			  <&clkc CLKID_VDEC_HEVC>;
-	assigned-clock-rates = <648000000>,
-			       <648000000>;
+	assigned-clocks = <&clkc CLKID_VDEC_1_SEL>,
+			  <&clkc CLKID_VDEC_1>;
+	assigned-clock-parents = <&clkc CLKID_FCLK_DIV3>,
+				 <0>;
+	assigned-clock-rates = <0>,
+			       <666666666>;
 };
