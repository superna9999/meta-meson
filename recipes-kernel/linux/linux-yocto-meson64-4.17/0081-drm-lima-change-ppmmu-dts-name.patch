From 8c5dee15e0f8e278aecd49dbd0b42112e33913da Mon Sep 17 00:00:00 2001
From: Qiang Yu <yuq825@gmail.com>
Date: Mon, 9 Oct 2017 16:04:31 +0800
Subject: [PATCH 081/134] drm/lima: change ppmmu dts name

according to
Documentation/devicetree/bindings/gpu/arm,mali-utgard.txt
ppmmu name should be "ppmmuX" instead of "ppXmmu".

Reported-by: Icenowy Zheng <icenowy@aosc.io>
Signed-off-by: Qiang Yu <yuq825@gmail.com>
---
 drivers/gpu/drm/lima/lima_device.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/gpu/drm/lima/lima_device.c b/drivers/gpu/drm/lima/lima_device.c
index 6e53d3c..eb6902f 100644
--- a/drivers/gpu/drm/lima/lima_device.c
+++ b/drivers/gpu/drm/lima/lima_device.c
@@ -122,7 +122,7 @@ static int lima_pp_group_init(struct lima_device *dev)
 {
 	int err, i;
 	struct lima_pp *pp;
-	char pp_name[] = "pp0", pp_mmu_name[] = "pp0mmu";
+	char pp_name[] = "pp0", pp_mmu_name[] = "ppmmu0";
 
 	pp = kzalloc(sizeof(*pp), GFP_KERNEL);
 	if (!pp)
@@ -132,7 +132,7 @@ static int lima_pp_group_init(struct lima_device *dev)
 	for (i = 0; i < dev->num_pp; i++) {
 		struct lima_pp_core *core = pp->core + pp->num_core;
 
-		pp_name[2] = '0' + i; pp_mmu_name[2] = '0' + i;
+		pp_name[2] = '0' + i; pp_mmu_name[5] = '0' + i;
 
 		if ((err = lima_init_ip(dev, pp_mmu_name, &core->mmu.ip, LIMA_PPMMU_BASE(i))) ||
 		    (err = lima_mmu_init(&core->mmu))) {
-- 
2.0.1

