From 79bbfea6a939a177b66dbb854d2103541a74da22 Mon Sep 17 00:00:00 2001
From: Qiang Yu <yuq825@gmail.com>
Date: Wed, 28 Mar 2018 21:55:31 +0800
Subject: [PATCH] drm/lima: use dev_err for irq error message print

Signed-off-by: Qiang Yu <yuq825@gmail.com>
---
 drivers/gpu/drm/lima/lima_gp.c  |  4 ++--
 drivers/gpu/drm/lima/lima_mmu.c | 10 +++++-----
 drivers/gpu/drm/lima/lima_pp.c  |  4 ++--
 3 files changed, 9 insertions(+), 9 deletions(-)

diff --git a/drivers/gpu/drm/lima/lima_gp.c b/drivers/gpu/drm/lima/lima_gp.c
index 6ae555f..b364d1f 100644
--- a/drivers/gpu/drm/lima/lima_gp.c
+++ b/drivers/gpu/drm/lima/lima_gp.c
@@ -115,8 +115,8 @@ static irqreturn_t lima_gp_irq_handler(int irq, void *data)
 	if (state & LIMA_GP_IRQ_MASK_ERROR) {
 		u32 status = gp_read(STATUS);
 
-		dev_info(dev->dev, "gp error irq state=%x status=%x\n",
-			 state, status);
+		dev_err(dev->dev, "gp error irq state=%x status=%x\n",
+			state, status);
 
 		fail = true;
 		task_done = true;
diff --git a/drivers/gpu/drm/lima/lima_mmu.c b/drivers/gpu/drm/lima/lima_mmu.c
index 225198c..dcada87 100644
--- a/drivers/gpu/drm/lima/lima_mmu.c
+++ b/drivers/gpu/drm/lima/lima_mmu.c
@@ -59,15 +59,15 @@ static irqreturn_t lima_mmu_irq_handler(int irq, void *data)
 
 	if (status & LIMA_MMU_INT_PAGE_FAULT) {
 		u32 fault = mmu_read(PAGE_FAULT_ADDR);
-		dev_info(dev->dev, "mmu page fault at 0x%x from bus id %d of type %s on %s\n",
-			 fault, LIMA_MMU_STATUS_BUS_ID(status),
-			 status & LIMA_MMU_STATUS_PAGE_FAULT_IS_WRITE ? "write" : "read",
-			 mmu->ip.name);
+		dev_err(dev->dev, "mmu page fault at 0x%x from bus id %d of type %s on %s\n",
+			fault, LIMA_MMU_STATUS_BUS_ID(status),
+			status & LIMA_MMU_STATUS_PAGE_FAULT_IS_WRITE ? "write" : "read",
+			mmu->ip.name);
 		//lima_vm_print(mmu->vm);
 	}
 
 	if (status & LIMA_MMU_INT_READ_BUS_ERROR) {
-		dev_info(dev->dev, "mmu %s irq bus error\n", mmu->ip.name);
+		dev_err(dev->dev, "mmu %s irq bus error\n", mmu->ip.name);
 	}
 
 	/* mask all interrupts before resume */
diff --git a/drivers/gpu/drm/lima/lima_pp.c b/drivers/gpu/drm/lima/lima_pp.c
index f9cead4..ecb7ef2 100644
--- a/drivers/gpu/drm/lima/lima_pp.c
+++ b/drivers/gpu/drm/lima/lima_pp.c
@@ -98,8 +98,8 @@ static irqreturn_t lima_pp_core_irq_handler(int irq, void *data)
 	if (state & LIMA_PP_IRQ_MASK_ERROR) {
 		u32 status = pp_read(STATUS);
 
-		dev_info(dev->dev, "pp error irq state=%x status=%x\n",
-			 state, status);
+		dev_err(dev->dev, "pp error irq state=%x status=%x\n",
+			state, status);
 
 		task_done = true;
 		pp->error = true;
